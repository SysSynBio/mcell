ReleaseSite:
  superclass: BaseDataClass
  items:
  - name: name
    type: str
    doc: Name of the release site
    
  - name: species
    type: Species* # Species must have beemn defined before
    doc: | 
      The named molecule is the one that will be released. Not used for  the 'list' shape. You must specify an orientation 
      if the molecule is a surface molecule.

  - name: initial_orientation
    type: Orientation
    default: Orientation.None
    doc: |
      Must be set if the species represent surface molecules.

  - name: shape
    type: Shape
    default: Shape.Unset
       
  - name: location
    type: Vec3 # Vec3 and Vec2 are built-in data types
    default: unset # null is equivalent to None in YAML
    
  - name: site_diameter
    type: float
    default: unset
    
  - name: site_radius
    type: float
    default: unset

  - name: number_to_release
    type: int
    default: unset
    
  - name: release_probability
    type: float
    default: unset
    
    
SurfaceRegion:
  superclass: BaseDataClass
  items:
  - name: name
    type: str
    
  - name: element_connections
    type: List[int]
    doc: |
      Surface region must be a part of a GeometryObject, items in this list are indices to 
      its element_connections array
    
    
GeometryObject:
  superclass: BaseDataClass
  items:
  - name: name
    type: str
    doc: Name of the object

  - name: vertex_list
    type: List[List[float]]
    doc: | 
      List of [x,y,z] triplets specifying positions of individual vertices.
      Equivalent to List[Vec3] however, defining a constructor Vec3(List[float]) then 
      tries to convert all lists of floats to Vec3 
        
  # what about name, use a different one?
  - name: element_connections
    type: List[List[int]]
    doc: | 
      List of [a,b,c] triplets specifying each wall, individual values are indices into the vertex list.
      Equivalent to List[IVec3]. 
        
  - name: surface_regions
    type: List[SurfaceRegion*]
    default: empty
    

InstantiationData:
  items:
  - name: release_sites
    type: List[ReleaseSite*]
    default: empty
    
  - name: geometry_objects
    type: List[GeometryObject*]
    default: empty

  methods:
  - name: add_release_site
    doc: Makes a copy of the release site
    params:
    - name: s
      type: ReleaseSite*
      
  - name: find_release_site
    return_type: ReleaseSite*
    params:
    - name: name
      type: str
      
  - name: add_geometry_object
    doc: Makes a copy of the geometry object, in the future we will probably add some transformations
    params:
    - name: o
      type: GeometryObject*

    - name: name
      type: str
      default: ""
      doc: When name is not set, the name of the object is used
      
  - name: find_geometry_object
    return_type: GeometryObject*
    params:
    - name: name
      type: str
      